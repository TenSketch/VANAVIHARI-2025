<div class="container tourist-spot-section">
  <div class="tourist-spot">
    <!-- Entry fee badge shown on top-right if fee exists -->
    <!-- Ticket-style pricing badge -->
    <div class="ticket-badge" *ngIf="unitEntry !== undefined">
      <div class="ticket-content">
        <div class="ticket-main">
          <div class="ticket-price-row">
            <span class="currency">INR</span>
            <span class="amount">₹{{ (unitEntry * peopleCount) | number:'1.0-0' }}</span>
          </div>
          <div class="ticket-sub">{{ peopleCount }} x guest</div>
        </div>
        
        <div class="ticket-divider" *ngIf="parkingTwoWheeler !== undefined || parkingFourWheeler !== undefined || unitCamera !== undefined"></div>

        <div class="ticket-extras" *ngIf="parkingTwoWheeler !== undefined || parkingFourWheeler !== undefined || unitCamera !== undefined">
          <div class="extra-row" *ngIf="parkingTwoWheeler !== undefined">
            <span class="label">2 wheeler</span>
            <span class="price">₹{{ parkingTwoWheeler }}</span>
          </div>
          <div class="extra-row" *ngIf="parkingFourWheeler !== undefined">
            <span class="label">4 wheeler</span>
            <span class="price">₹{{ parkingFourWheeler }}</span>
          </div>
          <div class="extra-row" *ngIf="unitCamera !== undefined">
            <span class="label">camera</span>
            <span class="price">₹{{ unitCamera }}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- Left Column: Images -->
      <div class="col-md-6">
        <!-- Header moved here to be shown on the top-left above images -->
        <header class="header header-left">
          <h3 class="title">{{ name }}<span class="sep">,</span> <span class="loc">{{ location }}</span></h3>
          <div class="sub" *ngIf="type">{{ type }}</div>
        </header>

        <div class="image-grid-horizontal" *ngIf="images?.length">
          <div class="grid-item" *ngFor="let img of images; let i = index">
            <img [src]="img" [alt]="name" (click)="openLightbox(i)" style="cursor: pointer;" />
          </div>
        </div>
      </div>

        <!-- Right Column: Details & Pricing (header relocated to left column) -->
      <div class="col-md-6">

        <!-- Info & Pricing Section -->
        <div class="info-pricing-section mt-3">
          
          <!-- Difficulty, Distance, Elevation -->
          <div class="spot-details d-flex flex-wrap gap-3 mb-3" *ngIf="difficulty || distance || elevationGain">
            <span class="badge bg-light text-dark border" *ngIf="difficulty">
              <strong>Difficulty:</strong> {{ difficulty }}
            </span>
            <span class="badge bg-light text-dark border" *ngIf="distance">
              <strong>Distance:</strong> {{ distance }} km
            </span>
            <span class="badge bg-light text-dark border" *ngIf="elevationGain">
              <strong>Elevation Gain:</strong> {{ elevationGain }} m
            </span>
          </div>


        </div>

        <!-- Actions (bottom-right) -->
        <div class="actions actions-right actions-bottom-right mt-3">
          <button class="btn add" [disabled]="isSoldOut" (click)="onAddToBooking()">
            {{ isSoldOut ? '[Sold Out]' : 'Add to Booking' }}
          </button>
          
          <ng-container *ngIf="openInNewTab; else inlineLink">
            <a [href]="detailsHref" class="btn details" target="_blank" rel="noopener noreferrer">View Details →</a>
          </ng-container>
          <ng-template #inlineLink>
            <a [routerLink]="detailsLink" [fragment]="detailsFragment" class="btn details">View Details →</a>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
