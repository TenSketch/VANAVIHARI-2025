<div class="container tourist-spot-section">
  <div class="tourist-spot">
    <!-- Entry fee badge shown on top-right if fee exists -->
    <!-- Ticket-style pricing badge removed per request -->
    <div class="row">
      <!-- Left Column: Images -->
      <div class="col-md-6">
        <!-- Header moved here to be shown on the top-left above images -->
        <header class="header header-left">
          <h3 class="title">{{ name }}<span class="sep">,</span> <span class="loc">{{ location }}</span></h3>
          <div class="sub" *ngIf="type">{{ type }}</div>
        </header>

        <div class="containerg" *ngIf="images?.length">
          <div class="card-containerg" #cardContainer>
            <div class="card py-0" *ngFor="let img of images; let i = index">
              <img class="img-responsive" [src]="img" [alt]="name" (click)="openFullImage(img)" />
            </div>
          </div>
          
          <div class="full-image-overlay" *ngIf="isFullImageVisible" (click)="closeFullImage()">
            <div class="full-image-container">
              <img class="full-image" [src]="fullImageSrc" [alt]="name" />
              <div class="overlay-controls">
                <button class="close-button" (click)="closeFullImage()">
                  <i class="fas fa-window-close" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="scroll-icon left" (click)="scrollLeft()">
            <i class="fas fa-chevron-left"></i>
          </div>
          <div class="scroll-icon right" (click)="scrollRight()">
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
      </div>

        <!-- Right Column: Details & Pricing (header relocated to left column) -->
      <div class="col-md-6">

        <!-- Info & Pricing Section -->
        <div class="info-pricing-section mt-3">
          
          <!-- Difficulty, Distance, Elevation -->
          <!-- Only show fee badges (Entry, Parking, Camera) -->
          <div class="spot-details d-flex flex-wrap gap-3 mb-3" *ngIf="unitEntry !== undefined || unitParking !== undefined || parkingTwoWheeler !== undefined || parkingFourWheeler !== undefined || unitCamera !== undefined">
            <span class="badge fee-badge" *ngIf="unitEntry !== undefined">
              <strong>Entry:</strong> ₹{{ unitEntry | number:'1.0-0' }}
            </span>
            <span class="badge fee-badge" *ngIf="unitEntry === undefined && entryFee">
              <strong>Entry:</strong> {{ entryFee }}
            </span>

            <ng-container *ngIf="parkingTwoWheeler !== undefined || parkingFourWheeler !== undefined">
              <span class="badge fee-badge" *ngIf="parkingTwoWheeler !== undefined">
                <strong>Parking 2W:</strong> ₹{{ parkingTwoWheeler }}
              </span>
              <span class="badge fee-badge" *ngIf="parkingFourWheeler !== undefined">
                <strong>Parking 4W:</strong> ₹{{ parkingFourWheeler }}
              </span>
            </ng-container>
            <span class="badge fee-badge" *ngIf="parkingTwoWheeler === undefined && parkingFourWheeler === undefined && unitParking !== undefined">
              <strong>Parking:</strong> ₹{{ unitParking | number:'1.0-0' }}
            </span>

            <span class="badge fee-badge" *ngIf="unitCamera !== undefined">
              <strong>Camera:</strong> ₹{{ unitCamera | number:'1.0-0' }}
            </span>
            <span class="badge fee-badge" *ngIf="unitCamera === undefined && cameraFee">
              <strong>Camera:</strong> {{ cameraFee }}
            </span>
          </div>


        </div>

        <!-- Actions (bottom-right) -->
        <div class="actions actions-right actions-bottom-right mt-3">
          <button class="btn add" [disabled]="isSoldOut" (click)="onAddToBooking()">
            {{ isSoldOut ? '[Sold Out]' : 'Add to Booking' }}
          </button>
          
          <ng-container *ngIf="openInNewTab; else inlineLink">
            <a [href]="detailsHref" class="btn details" target="_blank" rel="noopener noreferrer">View Details →</a>
          </ng-container>
          <ng-template #inlineLink>
            <a [routerLink]="detailsLink" [fragment]="detailsFragment" class="btn details">View Details →</a>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
